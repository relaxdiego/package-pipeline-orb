description: >
  Runs static analysis tasks against a Dockerfile. This job currently
  only runs dockerfilelint.

docker:
  - image: cimg/node:16.8

parameters:
  docker_file:
    description: >
      The path to the Dockerfile file
    type: string

steps:
  - run:
      name: Print debug info
      command: |
        echo "
        docker_file: << parameters.docker_file >>
        "

  - checkout

  - run:
      name: Run linter against the Dockerfile
      environment:
        PL_DOCKER_FILE: << parameters.docker_file >>
      command: <<include(scripts/run-.sh)>>
      command: |
